<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Chatbot Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app">
    <main class="app-main">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="sidebar-header">
          <h1>Chatbot Generator</h1>
          <button id="new-chat-btn" class="primary small">New chat</button>
        </div>

        <h2>Chats</h2>
        <ul id="chat-list"></ul>
      </aside>

      <!-- Right side -->
      <section class="chat-area">
        <!-- Empty state: visible only when no chat is selected -->
        <div id="empty-state" class="empty-state" style="display: flex;">
          <h2>Start a new chat</h2>
          <p>Create a chat and upload a PDF to start asking questions.</p>
          <button id="empty-new-chat-btn" class="primary">New chat</button>
        </div>

        <!-- Full chat UI: hidden until a chat is selected/created -->
        <div id="chat-container" class="chat-container" style="display: none;">
          <header class="chat-header">
            <div class="chat-title-wrap">
              <h2 id="chat-title">Chat</h2>
              <button id="rename-chat-btn" class="secondary small">Rename</button>
            </div>
            <div class="chat-actions">
              <label class="upload-label">
                Upload PDF
                <input
                  id="file-input"
                  type="file"
                  accept="application/pdf"
                  hidden
                />
              </label>
            </div>
          </header>

          <div id="documents-status" class="documents-status"></div>

          <div id="messages" class="messages"></div>

          <!-- No <form> tag: plain div eliminates any risk of page refresh -->
          <div class="message-form">
            <textarea
              id="message-input"
              placeholder="Ask a question about your document..."
              rows="1"
            ></textarea>
            <input
              id="max-chunks-input"
              type="number"
              min="1"
              max="20"
              value="5"
              title="Max chunks"
            />
            <button type="button" id="send-btn" class="primary">Send</button>
          </div>
        </div>
      </section>
    </main>

    <div id="toast" class="toast"></div>
  </div>

  <script src="app.js"></script>
</body>
</html>